<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Market Rates (GitHub-only)</title>
<style>
 body{font-family:sans-serif;text-align:center;background:#f9fafb;padding:40px;}
 .box{background:#fff;padding:20px;margin:15px auto;width:320px;
      border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,0.1);}
 .label{font-weight:bold;} .value{color:#007bff;font-size:1.3em;margin-top:6px;}
 footer{margin-top:25px;color:gray;font-size:0.8em;}
</style>
</head>
<body>
<h1>üìä Market Rates</h1>

<div class="box"><div class="label">üí∂ 1 Euro =</div><div id="eurinr" class="value">‚Ä¶</div></div>
<div class="box"><div class="label">ü™ô Gold (10 g INR)</div><div id="gold" class="value">‚Ä¶</div></div>
<div class="box"><div class="label">ü•à Silver (1 kg INR)</div><div id="silver" class="value">‚Ä¶</div></div>
<div class="box"><div class="label">üìà CGI (GIB USD)</div><div id="gib" class="value">‚Ä¶</div></div>

<footer>Euro auto-updates ¬∑ others from data.json</footer>

<script>
async function loadData() {
  try {
    // --- 1Ô∏è‚É£ Euro-INR rate from live API ---
    const fxResponse = await fetch("https://api.exchangerate.host/latest?base=EUR&symbols=INR");
    if (!fxResponse.ok) throw new Error("Failed to fetch Euro rates");
    const fxData = await fxResponse.json();
    document.getElementById("eurinr").textContent = fxData.rates.INR.toFixed(2) + " ‚Çπ";

    // --- 2Ô∏è‚É£ Local data.json ---
    // Cache-busting ensures the latest file is fetched
    const localResponse = await fetch("./data.json?nocache=" + Date.now());
    if (!localResponse.ok) throw new Error("Failed to load local data.json");

    const data = await localResponse.json();

    // Update HTML values
    document.getElementById("gold").textContent = "‚Çπ " + data.gold_inr_10g.toLocaleString();
    document.getElementById("silver").textContent = "‚Çπ " + data.silver_inr_kg.toLocaleString();
    document.getElementById("gib").textContent = "$ " + data.gib_usd.toFixed(2);

  } catch (err) {
    console.error(err);
    document.body.insertAdjacentHTML(
      "beforeend",
      "<p style='color:red'>Error loading data (check data.json and API)</p>"
    );
  }
}

// Run the loader
loadData();
</script>


</body>
</html>
